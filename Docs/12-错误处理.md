# 12 · 错误处理

参考：[Swift 中文文档 · 错误处理](https://doc.swiftgg.team/documentation/the-swift-programming-language/errorhandling)

## 学习目标

- 定义错误类型
- 使用 `throws` / `try` / `catch`
- 理解 `try?` 和 `try!`
- 使用 `defer` 清理资源

## 错误处理

```swift
enum ValidationError: Error {
    case invalidUsername
    case weakPassword(reason: String)
}

func register(username: String, password: String) throws {
    guard username.count >= 3 else {
        throw ValidationError.invalidUsername
    }
    print("注册成功")
}

do {
    try register(username: "ab", password: "123")
} catch ValidationError.invalidUsername {
    print("用户名无效")
} catch {
    print("其他错误")
}
```

## 实战练习

1. **文件读取**：模拟文件操作错误
2. **网络请求**：使用 Result 类型

参见 `Sources/12-ErrorHandling/ErrorHandling.swift`

下一章 **《13 并发编程》**。