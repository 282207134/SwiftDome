# 14 · 扩展

参考：[Swift 中文文档 · 扩展](https://doc.swiftgg.team/documentation/the-swift-programming-language/extensions)

## 学习目标

- 为现有类型添加功能
- 扩展计算属性和方法
- 使用协议扩展
- 理解约束扩展

## 扩展示例

```swift
extension Double {
    var km: Double { return self * 1_000.0 }
    var m: Double { return self }
}

let marathonDistance = 42.km
```

## 协议扩展

```swift
extension Collection where Element: Numeric {
    func average() -> Element {
        return reduce(0, +) / Element(exactly: count)!
    }
}
```

## 实战练习

1. **扩展 Int**：添加 `isEven` / `isPrime`
2. **扩展 String**：添加 `isEmail` / `trimmed()`

参见 `Sources/14-Extensions/Extensions.swift`

下一章 **《15 高级特性》**。